<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Nocalhost is an open-source toolsets help to build cloud-native applications easier and faster"><meta name=author content=Nocalhost><link href=https://nocalhost.dev/config/deployment/syntax/ rel=canonical><link rel=icon href=../../../assets/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-8.5.10"><title>部署语法 - Nocalhost 文档</title><link rel=stylesheet href=../../../assets/stylesheets/main.975780f9.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.2505c338.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#injecting-environment-variables-in-configyaml class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../.. title="Nocalhost 文档" class="md-header__button md-logo" aria-label="Nocalhost 文档" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Nocalhost 文档 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 部署语法 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://www.github.com/k8s-docs/nocalhost-docs title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> k8s-docs/nocalhost-docs </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../../guides/manage-cluster/ class=md-tabs__link> 用户指南 </a> </li> <li class=md-tabs__item> <a href=../../ class="md-tabs__link md-tabs__link--active"> 配置 </a> </li> <li class=md-tabs__item> <a href=../../../practice/cloud/k8s-compatible/ class=md-tabs__link> 最佳实践 </a> </li> <li class=md-tabs__item> <a href=../../../cli/cli-apply/ class=md-tabs__link> NHCTL </a> </li> <li class=md-tabs__item> <a href=../../../server/server-overview/ class=md-tabs__link> 服务器 </a> </li> <li class=md-tabs__item> <a href=../../../changelogs/0.6.x/ class=md-tabs__link> 更新日志 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="Nocalhost 文档" class="md-nav__button md-logo" aria-label="Nocalhost 文档" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> Nocalhost 文档 </label> <div class=md-nav__source> <a href=https://www.github.com/k8s-docs/nocalhost-docs title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> k8s-docs/nocalhost-docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1> <div class="md-nav__link md-nav__link--index "> <a href=../../..>主页</a> <label for=__nav_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=主页 data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> 主页 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../quick-start/ class=md-nav__link> 快速入门 </a> </li> <li class=md-nav__item> <a href=../../../installation/ class=md-nav__link> 安装 </a> </li> <li class=md-nav__item> <a href=../../../reference/nh-config/ class=md-nav__link> 配置参考 </a> </li> <li class=md-nav__item> <a href=../../../faq/faq/ class=md-nav__link> 常见问题 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> 用户指南 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=用户指南 data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> 用户指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../guides/manage-cluster/ class=md-nav__link> 集群管理 </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2 type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2> 应用部署 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=应用部署 data-md-level=2> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> 应用部署 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../guides/deploy/deploy-app/ class=md-nav__link> 使用 Nocalhost 进行应用部署 </a> </li> <li class=md-nav__item> <a href=../../../guides/deploy/deploy-demo/ class=md-nav__link> 部署示例应用 </a> </li> <li class=md-nav__item> <a href=../../../guides/deploy/deploy-from-helm/ class=md-nav__link> helm </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3> 开发 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=开发 data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> 开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../guides/develop/service/ class=md-nav__link> develop-service </a> </li> <li class=md-nav__item> <a href=../../../guides/develop/service-crd-en/ class=md-nav__link> CustomResources </a> </li> <li class=md-nav__item> <a href=../../../guides/develop/service-replace/ class=md-nav__link> DevMode(Replace) </a> </li> <li class=md-nav__item> <a href=../../../guides/develop/service-replace-en/ class=md-nav__link> DevMode(Replace) </a> </li> <li class=md-nav__item> <a href=../../../guides/develop/service-dup/ class=md-nav__link> DevMode(Duplicate) </a> </li> <li class=md-nav__item> <a href=../../../guides/develop/service-dup-en/ class=md-nav__link> DevMode(Duplicate) </a> </li> <li class=md-nav__item> <a href=../../../guides/develop/service-crd/ class=md-nav__link> CustomResources </a> </li> <li class=md-nav__item> <a href=../../../guides/develop/service-vpn/ class=md-nav__link> VPN proxy </a> </li> <li class=md-nav__item> <a href=../../../guides/develop/service-dup-mesh/ class=md-nav__link> DevMode Mesh </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4> 调试 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=调试 data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> 调试 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../guides/debug/overview/ class=md-nav__link> 概览 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_2 type=checkbox id=__nav_2_4_2> <label class=md-nav__link for=__nav_2_4_2> 远程调试 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=远程调试 data-md-level=3> <label class=md-nav__title for=__nav_2_4_2> <span class="md-nav__icon md-icon"></span> 远程调试 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../guides/debug/jetbrains-debug/ class=md-nav__link> Jetbrains 远程调试 </a> </li> <li class=md-nav__item> <a href=../../../guides/debug/vscode-debug/ class=md-nav__link> VSCode 远程调试 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../guides/debug/access-terminal/ class=md-nav__link> 访问容器的终端 </a> </li> <li class=md-nav__item> <a href=../../../guides/debug/log-viewer/ class=md-nav__link> 查看日志 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../guides/remote-run/ class=md-nav__link> 远程运行 </a> </li> <li class=md-nav__item> <a href=../../../guides/hot-reload/ class=md-nav__link> 热加载 </a> </li> <li class=md-nav__item> <a href=../../../guides/clear-pvc/ class=md-nav__link> Clear PVC </a> </li> <li class=md-nav__item> <a href=../../../guides/debug/_debug-configuration/ class=md-nav__link> debug configuration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3 checked> <div class="md-nav__link md-nav__link--index "> <a href=../../ >配置</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=配置 data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> 配置 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../config-overview/ class=md-nav__link> 配置简介 </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3 type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3> 配置规格 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=配置规格 data-md-level=2> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> 配置规格 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../config-spec/ class=md-nav__link> 配置规格 </a> </li> <li class=md-nav__item> <a href=../../config-dev-container/ class=md-nav__link> 开发容器配置 </a> </li> <li class=md-nav__item> <a href=../../config-enhance/ class=md-nav__link> 增强配置 </a> </li> <li class=md-nav__item> <a href=../../config-pattern/ class=md-nav__link> 文件模式 </a> </li> <li class=md-nav__item> <a href=../../config-develop/ class=md-nav__link> 开发配置 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_4 type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4> 配置方式 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=配置方式 data-md-level=2> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> 配置方式 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../configure/ class=md-nav__link> 方式说明 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_5 type=checkbox id=__nav_3_5 checked> <div class="md-nav__link md-nav__link--index "> <a href=../ >应用部署</a> <label for=__nav_3_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=应用部署 data-md-level=2> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> 应用部署 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../quickstart/ class=md-nav__link> 快速入门 </a> </li> <li class=md-nav__item> <a href=../spec/ class=md-nav__link> 部署规格 </a> </li> <li class=md-nav__item> <a href=../advance/ class=md-nav__link> 高级配置 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 部署语法 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> 部署语法 </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#injecting-environment-variables-in-configyaml class=md-nav__link> Injecting environment variables in config.yaml </a> <nav class=md-nav aria-label="Injecting environment variables in config.yaml"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example class=md-nav__link> Example </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-the-include-syntax-in-configyaml-to-introduce-other-files-content class=md-nav__link> Using the include syntax in config.yaml to introduce other file's content </a> <nav class=md-nav aria-label="Using the include syntax in config.yaml to introduce other file's content"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-1-combining-configyaml-with-the-include-syntax class=md-nav__link> Example 1: Combining config.yaml with the include syntax </a> </li> <li class=md-nav__item> <a href=#example-2-abstracting-the-configuration class=md-nav__link> Example 2: Abstracting the configuration </a> </li> <li class=md-nav__item> <a href=#example-3-reloading-the-configuration class=md-nav__link> Example 3: "Reloading" the configuration </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> 最佳实践 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=最佳实践 data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 最佳实践 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_1 type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1> 云兼容 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=云兼容 data-md-level=2> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> 云兼容 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../practice/cloud/k8s-compatible/ class=md-nav__link> K8兼容 </a> </li> <li class=md-nav__item> <a href=../../../practice/cloud/ali-ack/ class=md-nav__link> 阿里云 </a> </li> <li class=md-nav__item> <a href=../../../practice/kubesphere/ class=md-nav__link> Develop KubeSphere with Nocalhost </a> </li> <li class=md-nav__item> <a href=../../../practice/cloud/amazon-eks/ class=md-nav__link> Amazon EKS </a> </li> <li class=md-nav__item> <a href=../../../practice/cloud/google-gke/ class=md-nav__link> Google GKE </a> </li> <li class=md-nav__item> <a href=../../../practice/cloud/ms-azure/ class=md-nav__link> Microsoft Azure </a> </li> <li class=md-nav__item> <a href=../../../practice/cloud/rancher-rke/ class=md-nav__link> Rancher RKE & K3s </a> </li> <li class=md-nav__item> <a href=../../../practice/cloud/tencent-tke/ class=md-nav__link> Tencent TKE </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2> 预释放 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=预释放 data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> 预释放 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../practice/pre-release/kubesphere/ class=md-nav__link> kubesphere </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> NHCTL <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=NHCTL data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> NHCTL </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cli/cli-apply/ class=md-nav__link> nhctl apply </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-config/ class=md-nav__link> nhctl config </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-convert/ class=md-nav__link> nhctl convert </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-daemon/ class=md-nav__link> nhctl daemon </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-db/ class=md-nav__link> nhctl db </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-describe/ class=md-nav__link> nhctl describe </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-dev/ class=md-nav__link> nhctl dev </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-exec/ class=md-nav__link> nhctl exec </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-get/ class=md-nav__link> nhctl get </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-init/ class=md-nav__link> nhctl init </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-install/ class=md-nav__link> nhctl install </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-k/ class=md-nav__link> nhctl k </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-list/ class=md-nav__link> nhctl list </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-port-forward/ class=md-nav__link> nhctl port-forward </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-profile/ class=md-nav__link> nhctl profile </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-pvc/ class=md-nav__link> nhctl pvc </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-render/ class=md-nav__link> nhctl render </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-reset/ class=md-nav__link> nhctl reset </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-sync-status/ class=md-nav__link> nhctl sync-status </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-sync/ class=md-nav__link> nhctl sync </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-uninstall/ class=md-nav__link> nhctl uninstall </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-upgrade/ class=md-nav__link> nhctl upgrade </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-version/ class=md-nav__link> nhctl version </a> </li> <li class=md-nav__item> <a href=../../../cli/cli-yaml/ class=md-nav__link> nhctl yaml </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> 服务器 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=服务器 data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> 服务器 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../server/server-overview/ class=md-nav__link> 服务器概述 </a> </li> <li class=md-nav__item> <a href=../../../server/deploy-server/ class=md-nav__link> 快速开始 </a> </li> <li class=md-nav__item> <a href=../../../server/upgrade/ class=md-nav__link> 服务器升级 </a> </li> <li class=md-nav__item> <a href=../../../server/manage-user/ class=md-nav__link> 管理用户 </a> </li> <li class=md-nav__item> <a href=../../../server/manage-cluster/ class=md-nav__link> 管理集群 </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_6 type=checkbox id=__nav_6_6> <label class=md-nav__link for=__nav_6_6> 管理DevSpace <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=管理DevSpace data-md-level=2> <label class=md-nav__title for=__nav_6_6> <span class="md-nav__icon md-icon"></span> 管理DevSpace </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../server/manage-devspace-iso/ class=md-nav__link> Isolated DevSpace </a> </li> <li class=md-nav__item> <a href=../../../server/manage-devspace-mesh/ class=md-nav__link> 管理 MeshSpace </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../server/manage-app/ class=md-nav__link> 管理应用程序 </a> </li> <li class=md-nav__item> <a href=../../../server/nh-dep/ class=md-nav__link> Nocalhost Dep </a> </li> <li class=md-nav__item> <a href=../../../server/deploy-in-kubesphere/ class=md-nav__link> kubesphere里部署 </a> </li> <li class=md-nav__item> <a href=../../../server/deploy-in-kubesphere-en/ class=md-nav__link> Quick Deployment of Nocalhost Server in KubeSphere </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> 更新日志 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=更新日志 data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> 更新日志 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../changelogs/0.6.x/ class=md-nav__link> 0.6.x </a> </li> <li class=md-nav__item> <a href=../../../changelogs/0.5.x/ class=md-nav__link> 0.5.x </a> </li> <li class=md-nav__item> <a href=../../../changelogs/0.4.x/ class=md-nav__link> 0.4.x </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#injecting-environment-variables-in-configyaml class=md-nav__link> Injecting environment variables in config.yaml </a> <nav class=md-nav aria-label="Injecting environment variables in config.yaml"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example class=md-nav__link> Example </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-the-include-syntax-in-configyaml-to-introduce-other-files-content class=md-nav__link> Using the include syntax in config.yaml to introduce other file's content </a> <nav class=md-nav aria-label="Using the include syntax in config.yaml to introduce other file's content"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-1-combining-configyaml-with-the-include-syntax class=md-nav__link> Example 1: Combining config.yaml with the include syntax </a> </li> <li class=md-nav__item> <a href=#example-2-abstracting-the-configuration class=md-nav__link> Example 2: Abstracting the configuration </a> </li> <li class=md-nav__item> <a href=#example-3-reloading-the-configuration class=md-nav__link> Example 3: "Reloading" the configuration </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>部署语法</h1> <h2 id=injecting-environment-variables-in-configyaml>Injecting environment variables in config.yaml<a class=headerlink href=#injecting-environment-variables-in-configyaml title="Permanent link">&para;</a></h2> <p>config.yaml supports dynamic injection of environment variables. You can take advantage of this feature when you want to control something dynamically during deployment. The basic syntax of environment variables injection is <code>${ENV}</code>. The actual values of the environment variables will be read from the current process.</p> <div class="admonition info"> <p class=admonition-title>Setting default values for environment variables</p> <p>The syntax is <code>${ENV:-DEFAULT_VALUE}</code>. The DEFAULT_VALUE will be used if the environment variable <code>ENV</code> was not found.</p> </div> <h3 id=example>Example<a class=headerlink href=#example title="Permanent link">&para;</a></h3> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1> 1</a></span>
<span class=normal><a href=#__codelineno-0-2> 2</a></span>
<span class=normal><a href=#__codelineno-0-3> 3</a></span>
<span class=normal><a href=#__codelineno-0-4> 4</a></span>
<span class=normal><a href=#__codelineno-0-5> 5</a></span>
<span class=normal><a href=#__codelineno-0-6> 6</a></span>
<span class=normal><a href=#__codelineno-0-7> 7</a></span>
<span class=normal><a href=#__codelineno-0-8> 8</a></span>
<span class=normal><a href=#__codelineno-0-9> 9</a></span>
<span class=normal><a href=#__codelineno-0-10>10</a></span>
<span class=normal><a href=#__codelineno-0-11>11</a></span>
<span class=normal><a href=#__codelineno-0-12>12</a></span>
<span class=normal><a href=#__codelineno-0-13>13</a></span>
<span class=normal><a href=#__codelineno-0-14>14</a></span>
<span class=normal><a href=#__codelineno-0-15>15</a></span>
<span class=normal><a href=#__codelineno-0-16>16</a></span>
<span class=normal><a href=#__codelineno-0-17>17</a></span>
<span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">e-micro-agile</span><span class=w></span>
<a id=__codelineno-0-2 name=__codelineno-0-2></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">serviceType</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deployment</span><span class=w></span>
<a id=__codelineno-0-3 name=__codelineno-0-3></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">dependPodsLabelSelector</span><span class="p p-Indicator">:</span><span class=w></span>
<a id=__codelineno-0-4 name=__codelineno-0-4></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;app=mariadb&quot;</span><span class=w></span>
<a id=__codelineno-0-5 name=__codelineno-0-5></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;app=rabbitmq&quot;</span><span class=w></span>
<a id=__codelineno-0-6 name=__codelineno-0-6></a><span class=w>    </span><span class=nt>dependJobsLabelSelector</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-0-7 name=__codelineno-0-7></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;job-name=init-data-job&quot;</span><span class=w></span>
<a id=__codelineno-0-8 name=__codelineno-0-8></a><span class=w>    </span><span class=nt>gitUrl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${CODING_GIT_URL:-git@e.coding.net:nocalhost/collaboration.git}</span><span class=w></span>
<a id=__codelineno-0-9 name=__codelineno-0-9></a><span class=w>    </span><span class=nt>devContainerImage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">$CODING_GIT_SERVER_IMAGE</span><span class=w></span>
<a id=__codelineno-0-10 name=__codelineno-0-10></a><span class=w>    </span><span class=nt>workDir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${WORK_DIR}</span><span class=w></span>
<a id=__codelineno-0-11 name=__codelineno-0-11></a><span class=w>    </span><span class=nt>persistentVolumeDirs</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-0-12 name=__codelineno-0-12></a><span class=w>     </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">path:${PERSISTENT_VOLUME_DIRS}</span><span class=w></span>
<a id=__codelineno-0-13 name=__codelineno-0-13></a><span class=w>    </span><span class=nt>buildCommand</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>$BUILD_COMMAND</span><span class="p p-Indicator">]</span><span class=w></span>
<a id=__codelineno-0-14 name=__codelineno-0-14></a><span class=w>    </span><span class=nt>runCommand</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>$</span><span class="p p-Indicator">{</span><span class=nv>RUN_COMMAND</span><span class="p p-Indicator">:</span><span class=nv>-&quot;./gradlew&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;bootRun&quot;</span><span class="p p-Indicator">}]</span><span class=w></span>
<a id=__codelineno-0-15 name=__codelineno-0-15></a><span class=w>    </span><span class=nt>debugCommand</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>$</span><span class="p p-Indicator">{</span><span class=nv>DEBUG_COMMAND</span><span class="p p-Indicator">:</span><span class=nv>-&quot;./gradlew&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;bootRun&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;--debug-jvm&quot;</span><span class="p p-Indicator">}]</span><span class=w></span>
<a id=__codelineno-0-16 name=__codelineno-0-16></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">syncFilePattern:${SYNC_FILE_PATTERN:-</span><span class=w></span>
<a id=__codelineno-0-17 name=__codelineno-0-17></a><span class=w>     </span><span class="l l-Scalar l-Scalar-Plain">- &quot;.&quot;}</span><span class=w></span>
<a id=__codelineno-0-18 name=__codelineno-0-18></a>
<a id=__codelineno-0-19 name=__codelineno-0-19></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">ignoreFilePattern:${IGNORE_FILE_PATTERN:-</span><span class=w></span>
<a id=__codelineno-0-20 name=__codelineno-0-20></a><span class=w>     </span><span class="l l-Scalar l-Scalar-Plain">- &quot;.git&quot;</span><span class=w></span>
<a id=__codelineno-0-21 name=__codelineno-0-21></a><span class=w>     </span><span class="l l-Scalar l-Scalar-Plain">- &quot;.nocalhost&quot;}</span><span class=w></span>
<a id=__codelineno-0-22 name=__codelineno-0-22></a>
<a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=w>    </span><span class=nt>testPriority</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${PRIORITY:-0}</span><span class=w></span>
</code></pre></div></td></tr></table></div> <p>env:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-1-1>1</a></span>
<span class=normal><a href=#__codelineno-1-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1></a>CODING_GIT_URL=git@e.coding.net:nocalhost/nocalhost.git
<a id=__codelineno-1-2 name=__codelineno-1-2></a>PRIORITY=2
</code></pre></div></td></tr></table></div> <p>RESULT:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-2-1> 1</a></span>
<span class=normal><a href=#__codelineno-2-2> 2</a></span>
<span class=normal><a href=#__codelineno-2-3> 3</a></span>
<span class=normal><a href=#__codelineno-2-4> 4</a></span>
<span class=normal><a href=#__codelineno-2-5> 5</a></span>
<span class=normal><a href=#__codelineno-2-6> 6</a></span>
<span class=normal><a href=#__codelineno-2-7> 7</a></span>
<span class=normal><a href=#__codelineno-2-8> 8</a></span>
<span class=normal><a href=#__codelineno-2-9> 9</a></span>
<span class=normal><a href=#__codelineno-2-10>10</a></span>
<span class=normal><a href=#__codelineno-2-11>11</a></span>
<span class=normal><a href=#__codelineno-2-12>12</a></span>
<span class=normal><a href=#__codelineno-2-13>13</a></span>
<span class=normal><a href=#__codelineno-2-14>14</a></span>
<span class=normal><a href=#__codelineno-2-15>15</a></span>
<span class=normal><a href=#__codelineno-2-16>16</a></span>
<span class=normal><a href=#__codelineno-2-17>17</a></span>
<span class=normal><a href=#__codelineno-2-18>18</a></span>
<span class=normal><a href=#__codelineno-2-19>19</a></span>
<span class=normal><a href=#__codelineno-2-20>20</a></span>
<span class=normal><a href=#__codelineno-2-21>21</a></span>
<span class=normal><a href=#__codelineno-2-22>22</a></span>
<span class=normal><a href=#__codelineno-2-23>23</a></span>
<span class=normal><a href=#__codelineno-2-24>24</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">e-micro-agile</span><span class=w></span>
<a id=__codelineno-2-2 name=__codelineno-2-2></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">serviceType</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deployment</span><span class=w></span>
<a id=__codelineno-2-3 name=__codelineno-2-3></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">dependPodsLabelSelector</span><span class="p p-Indicator">:</span><span class=w></span>
<a id=__codelineno-2-4 name=__codelineno-2-4></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;app=mariadb&quot;</span><span class=w></span>
<a id=__codelineno-2-5 name=__codelineno-2-5></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;app=rabbitmq&quot;</span><span class=w></span>
<a id=__codelineno-2-6 name=__codelineno-2-6></a><span class=w>    </span><span class=nt>dependJobsLabelSelector</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-2-7 name=__codelineno-2-7></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;job-name=init-data-job&quot;</span><span class=w></span>
<a id=__codelineno-2-8 name=__codelineno-2-8></a><span class=w>    </span><span class=nt>gitUrl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">git@e.coding.net:nocalhost/nocalhost.git</span><span class=w></span>
<a id=__codelineno-2-9 name=__codelineno-2-9></a><span class=w>    </span><span class=nt>devContainerImage</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-2-10 name=__codelineno-2-10></a><span class=w>    </span><span class=nt>workDir</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-2-11 name=__codelineno-2-11></a><span class=w>    </span><span class=nt>persistentVolumeDirs</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-2-12 name=__codelineno-2-12></a><span class=w>     </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>path</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-2-13 name=__codelineno-2-13></a><span class=w>    </span><span class=nt>buildCommand</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[]</span><span class=w></span>
<a id=__codelineno-2-14 name=__codelineno-2-14></a><span class=w>    </span><span class=nt>runCommand</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;./gradlew&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;bootRun&quot;</span><span class="p p-Indicator">]</span><span class=w></span>
<a id=__codelineno-2-15 name=__codelineno-2-15></a><span class=w>    </span><span class=nt>debugCommand</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;./gradlew&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;bootRun&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;--debug-jvm&quot;</span><span class="p p-Indicator">]</span><span class=w></span>
<a id=__codelineno-2-16 name=__codelineno-2-16></a><span class=w>    </span><span class=nt>syncFilePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-2-17 name=__codelineno-2-17></a><span class=w>     </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./nocalhost</span><span class=w></span>
<a id=__codelineno-2-18 name=__codelineno-2-18></a><span class=w>     </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./foo**bar</span><span class=w></span>
<a id=__codelineno-2-19 name=__codelineno-2-19></a><span class=w>     </span><span class="p p-Indicator">-</span><span class=w> </span><span class=err>*</span><span class="l l-Scalar l-Scalar-Plain">.jar</span><span class=w></span>
<a id=__codelineno-2-20 name=__codelineno-2-20></a>
<a id=__codelineno-2-21 name=__codelineno-2-21></a><span class=w>    </span><span class=nt>ignoreFilePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-2-22 name=__codelineno-2-22></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.&quot;</span><span class=w></span>
<a id=__codelineno-2-23 name=__codelineno-2-23></a>
<a id=__codelineno-2-24 name=__codelineno-2-24></a><span class=w>    </span><span class=nt>testPriority</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class=w></span>
</code></pre></div></td></tr></table></div> <hr> <h2 id=using-the-include-syntax-in-configyaml-to-introduce-other-files-content>Using the include syntax in config.yaml to introduce other file's content<a class=headerlink href=#using-the-include-syntax-in-configyaml-to-introduce-other-files-content title="Permanent link">&para;</a></h2> <p>configuring with config.yaml supports the use of include syntax to achieve a high degree of encapsulation, such as "abstraction", "inheritance", "rewriting" and so on. The basic syntax of include is <code>${_INCLUDE_:- file/rel/path | nindent 2}</code>, where nindent is the overall indentation when the file is imported.</p> <h3 id=example-1-combining-configyaml-with-the-include-syntax>Example 1: Combining config.yaml with the include syntax<a class=headerlink href=#example-1-combining-configyaml-with-the-include-syntax title="Permanent link">&para;</a></h3> <p>Here we use <a href=../quickstart/#example>Deployment configuration example</a> to demonstrate.</p> <p>config.yaml:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-3-1>1</a></span>
<span class=normal><a href=#__codelineno-3-2>2</a></span>
<span class=normal><a href=#__codelineno-3-3>3</a></span>
<span class=normal><a href=#__codelineno-3-4>4</a></span>
<span class=normal><a href=#__codelineno-3-5>5</a></span>
<span class=normal><a href=#__codelineno-3-6>6</a></span>
<span class=normal><a href=#__codelineno-3-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1></a><span class=nt>application</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-3-2 name=__codelineno-3-2></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bookinfo</span><span class=w></span>
<a id=__codelineno-3-3 name=__codelineno-3-3></a><span class=w>  </span><span class=nt>manifestType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rawManifestGit</span><span class=w></span>
<a id=__codelineno-3-4 name=__codelineno-3-4></a><span class=w>  </span><span class=nt>resourcePath</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;manifest/templates&quot;</span><span class="p p-Indicator">]</span><span class=w></span>
<a id=__codelineno-3-5 name=__codelineno-3-5></a>
<a id=__codelineno-3-6 name=__codelineno-3-6></a><span class=w>  </span><span class=nt>service</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${_INCLUDE_:- ./service/productpage.yaml | nindent 4}</span><span class=w></span>
<a id=__codelineno-3-7 name=__codelineno-3-7></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">${_INCLUDE_:- ./service/details.yaml | nindent 4}</span><span class=w></span>
</code></pre></div></td></tr></table></div> <p>/service/productpage.yaml:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-4-1> 1</a></span>
<span class=normal><a href=#__codelineno-4-2> 2</a></span>
<span class=normal><a href=#__codelineno-4-3> 3</a></span>
<span class=normal><a href=#__codelineno-4-4> 4</a></span>
<span class=normal><a href=#__codelineno-4-5> 5</a></span>
<span class=normal><a href=#__codelineno-4-6> 6</a></span>
<span class=normal><a href=#__codelineno-4-7> 7</a></span>
<span class=normal><a href=#__codelineno-4-8> 8</a></span>
<span class=normal><a href=#__codelineno-4-9> 9</a></span>
<span class=normal><a href=#__codelineno-4-10>10</a></span>
<span class=normal><a href=#__codelineno-4-11>11</a></span>
<span class=normal><a href=#__codelineno-4-12>12</a></span>
<span class=normal><a href=#__codelineno-4-13>13</a></span>
<span class=normal><a href=#__codelineno-4-14>14</a></span>
<span class=normal><a href=#__codelineno-4-15>15</a></span>
<span class=normal><a href=#__codelineno-4-16>16</a></span>
<span class=normal><a href=#__codelineno-4-17>17</a></span>
<span class=normal><a href=#__codelineno-4-18>18</a></span>
<span class=normal><a href=#__codelineno-4-19>19</a></span>
<span class=normal><a href=#__codelineno-4-20>20</a></span>
<span class=normal><a href=#__codelineno-4-21>21</a></span>
<span class=normal><a href=#__codelineno-4-22>22</a></span>
<span class=normal><a href=#__codelineno-4-23>23</a></span>
<span class=normal><a href=#__codelineno-4-24>24</a></span>
<span class=normal><a href=#__codelineno-4-25>25</a></span>
<span class=normal><a href=#__codelineno-4-26>26</a></span>
<span class=normal><a href=#__codelineno-4-27>27</a></span>
<span class=normal><a href=#__codelineno-4-28>28</a></span>
<span class=normal><a href=#__codelineno-4-29>29</a></span>
<span class=normal><a href=#__codelineno-4-30>30</a></span>
<span class=normal><a href=#__codelineno-4-31>31</a></span>
<span class=normal><a href=#__codelineno-4-32>32</a></span>
<span class=normal><a href=#__codelineno-4-33>33</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">productpage</span><span class=w></span>
<a id=__codelineno-4-2 name=__codelineno-4-2></a><span class=w>  </span><span class=nt>serviceType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deployment</span><span class=w></span>
<a id=__codelineno-4-3 name=__codelineno-4-3></a><span class=w>  </span><span class=nt>containers</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-4-4 name=__codelineno-4-4></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">productpage</span><span class=w></span>
<a id=__codelineno-4-5 name=__codelineno-4-5></a><span class=w>      </span><span class=nt>dev</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-4-6 name=__codelineno-4-6></a><span class=w>        </span><span class=nt>gitUrl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://e.coding.net/nocalhost/nocalhost/bookinfo-productpage.git</span><span class=w></span>
<a id=__codelineno-4-7 name=__codelineno-4-7></a><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">codingcorp-docker.pkg.coding.net/nocalhost/dev-images/python:3.7.7-slim-productpage-with-pydevd</span><span class=w></span>
<a id=__codelineno-4-8 name=__codelineno-4-8></a><span class=w>        </span><span class=nt>shell</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bash</span><span class=w></span>
<a id=__codelineno-4-9 name=__codelineno-4-9></a><span class=w>        </span><span class=nt>workDir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/home/nocalhost-dev</span><span class=w></span>
<a id=__codelineno-4-10 name=__codelineno-4-10></a><span class=w>        </span><span class=nt>command</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-4-11 name=__codelineno-4-11></a><span class=w>          </span><span class=nt>run</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-4-12 name=__codelineno-4-12></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./run.sh</span><span class=w></span>
<a id=__codelineno-4-13 name=__codelineno-4-13></a><span class=w>          </span><span class=nt>debug</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-4-14 name=__codelineno-4-14></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./debug.sh</span><span class=w></span>
<a id=__codelineno-4-15 name=__codelineno-4-15></a><span class=w>        </span><span class=nt>debug</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-4-16 name=__codelineno-4-16></a><span class=w>          </span><span class=nt>remoteDebugPort</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">9009</span><span class=w></span>
<a id=__codelineno-4-17 name=__codelineno-4-17></a><span class=w>        </span><span class=nt>sync</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-4-18 name=__codelineno-4-18></a><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">send</span><span class=w></span>
<a id=__codelineno-4-19 name=__codelineno-4-19></a><span class=w>          </span><span class=nt>filePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-4-20 name=__codelineno-4-20></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./</span><span class=w></span>
<a id=__codelineno-4-21 name=__codelineno-4-21></a><span class=w>          </span><span class=nt>ignoreFilePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-4-22 name=__codelineno-4-22></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.git&quot;</span><span class=w></span>
<a id=__codelineno-4-23 name=__codelineno-4-23></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.github&quot;</span><span class=w></span>
<a id=__codelineno-4-24 name=__codelineno-4-24></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.idea&quot;</span><span class=w></span>
<a id=__codelineno-4-25 name=__codelineno-4-25></a><span class=w>        </span><span class=nt>portForward</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-4-26 name=__codelineno-4-26></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">39080:9080</span><span class=w></span>
<a id=__codelineno-4-27 name=__codelineno-4-27></a><span class=w>        </span><span class=nt>resources</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-4-28 name=__codelineno-4-28></a><span class=w>          </span><span class=nt>limits</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-4-29 name=__codelineno-4-29></a><span class=w>            </span><span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class=s>&quot;1&quot;</span><span class=w></span>
<a id=__codelineno-4-30 name=__codelineno-4-30></a><span class=w>            </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1Gi</span><span class=w></span>
<a id=__codelineno-4-31 name=__codelineno-4-31></a><span class=w>          </span><span class=nt>requests</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-4-32 name=__codelineno-4-32></a><span class=w>            </span><span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class=s>&quot;0.5&quot;</span><span class=w></span>
<a id=__codelineno-4-33 name=__codelineno-4-33></a><span class=w>            </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">512Mi</span><span class=w></span>
</code></pre></div></td></tr></table></div> <p>/service/details.yaml:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-5-1> 1</a></span>
<span class=normal><a href=#__codelineno-5-2> 2</a></span>
<span class=normal><a href=#__codelineno-5-3> 3</a></span>
<span class=normal><a href=#__codelineno-5-4> 4</a></span>
<span class=normal><a href=#__codelineno-5-5> 5</a></span>
<span class=normal><a href=#__codelineno-5-6> 6</a></span>
<span class=normal><a href=#__codelineno-5-7> 7</a></span>
<span class=normal><a href=#__codelineno-5-8> 8</a></span>
<span class=normal><a href=#__codelineno-5-9> 9</a></span>
<span class=normal><a href=#__codelineno-5-10>10</a></span>
<span class=normal><a href=#__codelineno-5-11>11</a></span>
<span class=normal><a href=#__codelineno-5-12>12</a></span>
<span class=normal><a href=#__codelineno-5-13>13</a></span>
<span class=normal><a href=#__codelineno-5-14>14</a></span>
<span class=normal><a href=#__codelineno-5-15>15</a></span>
<span class=normal><a href=#__codelineno-5-16>16</a></span>
<span class=normal><a href=#__codelineno-5-17>17</a></span>
<span class=normal><a href=#__codelineno-5-18>18</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">details</span><span class=w></span>
<a id=__codelineno-5-2 name=__codelineno-5-2></a><span class=w>  </span><span class=nt>serviceType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deployment</span><span class=w></span>
<a id=__codelineno-5-3 name=__codelineno-5-3></a><span class=w>  </span><span class=nt>containers</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-5-4 name=__codelineno-5-4></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>dev</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-5-5 name=__codelineno-5-5></a><span class=w>        </span><span class=nt>gitUrl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://e.coding.net/codingcorp/nocalhost/bookinfo-details.git</span><span class=w></span>
<a id=__codelineno-5-6 name=__codelineno-5-6></a><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">codingcorp-docker.pkg.coding.net/nocalhost/dev-images/ruby:2.7.1-slim</span><span class=w></span>
<a id=__codelineno-5-7 name=__codelineno-5-7></a><span class=w>        </span><span class=nt>shell</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bash</span><span class=w></span>
<a id=__codelineno-5-8 name=__codelineno-5-8></a><span class=w>        </span><span class=nt>workDir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/home/nocalhost-dev</span><span class=w></span>
<a id=__codelineno-5-9 name=__codelineno-5-9></a><span class=w>        </span><span class=nt>sync</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-5-10 name=__codelineno-5-10></a><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">send</span><span class=w></span>
<a id=__codelineno-5-11 name=__codelineno-5-11></a><span class=w>          </span><span class=nt>filePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-5-12 name=__codelineno-5-12></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./</span><span class=w></span>
<a id=__codelineno-5-13 name=__codelineno-5-13></a><span class=w>          </span><span class=nt>ignoreFilePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-5-14 name=__codelineno-5-14></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.git&quot;</span><span class=w></span>
<a id=__codelineno-5-15 name=__codelineno-5-15></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.github&quot;</span><span class=w></span>
<a id=__codelineno-5-16 name=__codelineno-5-16></a><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-5-17 name=__codelineno-5-17></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DEBUG</span><span class=w></span>
<a id=__codelineno-5-18 name=__codelineno-5-18></a><span class=w>            </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;true&quot;</span><span class=w></span>
</code></pre></div></td></tr></table></div> <p>The structure of the directories is:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-6-1>1</a></span>
<span class=normal><a href=#__codelineno-6-2>2</a></span>
<span class=normal><a href=#__codelineno-6-3>3</a></span>
<span class=normal><a href=#__codelineno-6-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1></a><span class=err>├──</span><span class=w> </span><span class=nt>service</span><span class=w></span>
<a id=__codelineno-6-2 name=__codelineno-6-2></a><span class=err>│</span><span class=w>   </span><span class=err>├──</span><span class=w> </span><span class=nt>details.yaml</span><span class=w></span>
<a id=__codelineno-6-3 name=__codelineno-6-3></a><span class=err>│</span><span class=w>   </span><span class=err>└──</span><span class=w> </span><span class=nt>productpage.yaml</span><span class=w></span>
<a id=__codelineno-6-4 name=__codelineno-6-4></a><span class=err>├──</span><span class=w> </span><span class=nt>config.yaml</span><span class=w></span>
</code></pre></div></td></tr></table></div> <div class="admonition tip"> <p class=admonition-title>How to verify</p> <p>You can use <code>nhctl render ./config.yaml</code> to verify the result, which will get the rendered result.</p> </div> <h3 id=example-2-abstracting-the-configuration>Example 2: Abstracting the configuration<a class=headerlink href=#example-2-abstracting-the-configuration title="Permanent link">&para;</a></h3> <p>The configuration of many services is likely to be similar. If you need to modify, then you must modify them altogether. For those common configurations, they can be abstracted:</p> <p>config.yaml:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-7-1>1</a></span>
<span class=normal><a href=#__codelineno-7-2>2</a></span>
<span class=normal><a href=#__codelineno-7-3>3</a></span>
<span class=normal><a href=#__codelineno-7-4>4</a></span>
<span class=normal><a href=#__codelineno-7-5>5</a></span>
<span class=normal><a href=#__codelineno-7-6>6</a></span>
<span class=normal><a href=#__codelineno-7-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1></a><span class=nt>application</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-7-2 name=__codelineno-7-2></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bookinfo</span><span class=w></span>
<a id=__codelineno-7-3 name=__codelineno-7-3></a><span class=w>  </span><span class=nt>manifestType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rawManifestGit</span><span class=w></span>
<a id=__codelineno-7-4 name=__codelineno-7-4></a><span class=w>  </span><span class=nt>resourcePath</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;manifest/templates&quot;</span><span class="p p-Indicator">]</span><span class=w></span>
<a id=__codelineno-7-5 name=__codelineno-7-5></a>
<a id=__codelineno-7-6 name=__codelineno-7-6></a><span class=w>  </span><span class=nt>service</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${_INCLUDE_:- ./service/productpage.yaml | nindent 4}</span><span class=w></span>
<a id=__codelineno-7-7 name=__codelineno-7-7></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">${_INCLUDE_:- ./service/details.yaml | nindent 4}</span><span class=w></span>
</code></pre></div></td></tr></table></div> <p>/service/productpage.yaml:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-8-1>1</a></span>
<span class=normal><a href=#__codelineno-8-2>2</a></span>
<span class=normal><a href=#__codelineno-8-3>3</a></span>
<span class=normal><a href=#__codelineno-8-4>4</a></span>
<span class=normal><a href=#__codelineno-8-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">productpage</span><span class=w></span>
<a id=__codelineno-8-2 name=__codelineno-8-2></a><span class=w>  </span><span class=nt>serviceType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deployment</span><span class=w></span>
<a id=__codelineno-8-3 name=__codelineno-8-3></a><span class=w>  </span><span class=nt>containers</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-8-4 name=__codelineno-8-4></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">productpage</span><span class=w></span>
<a id=__codelineno-8-5 name=__codelineno-8-5></a><span class=w>      </span><span class=nt>dev</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${_INCLUDE_:- ../base/dev-config.yaml | nindent 8}</span><span class=w></span>
</code></pre></div></td></tr></table></div> <p>/service/details.yaml:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-9-1>1</a></span>
<span class=normal><a href=#__codelineno-9-2>2</a></span>
<span class=normal><a href=#__codelineno-9-3>3</a></span>
<span class=normal><a href=#__codelineno-9-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">details</span><span class=w></span>
<a id=__codelineno-9-2 name=__codelineno-9-2></a><span class=w>  </span><span class=nt>serviceType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deployment</span><span class=w></span>
<a id=__codelineno-9-3 name=__codelineno-9-3></a><span class=w>  </span><span class=nt>containers</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-9-4 name=__codelineno-9-4></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>dev</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${_INCLUDE_:- ../base/dev-config.yaml | nindent 8}</span><span class=w></span>
</code></pre></div></td></tr></table></div> <p>/base/dev-config.yaml:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-10-1> 1</a></span>
<span class=normal><a href=#__codelineno-10-2> 2</a></span>
<span class=normal><a href=#__codelineno-10-3> 3</a></span>
<span class=normal><a href=#__codelineno-10-4> 4</a></span>
<span class=normal><a href=#__codelineno-10-5> 5</a></span>
<span class=normal><a href=#__codelineno-10-6> 6</a></span>
<span class=normal><a href=#__codelineno-10-7> 7</a></span>
<span class=normal><a href=#__codelineno-10-8> 8</a></span>
<span class=normal><a href=#__codelineno-10-9> 9</a></span>
<span class=normal><a href=#__codelineno-10-10>10</a></span>
<span class=normal><a href=#__codelineno-10-11>11</a></span>
<span class=normal><a href=#__codelineno-10-12>12</a></span>
<span class=normal><a href=#__codelineno-10-13>13</a></span>
<span class=normal><a href=#__codelineno-10-14>14</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1></a><span class=nt>gitUrl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://e.coding.net/codingcorp/nocalhost/bookinfo-details.git</span><span class=w></span>
<a id=__codelineno-10-2 name=__codelineno-10-2></a><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">codingcorp-docker.pkg.coding.net/nocalhost/dev-images/ruby:2.7.1-slim</span><span class=w></span>
<a id=__codelineno-10-3 name=__codelineno-10-3></a><span class=nt>shell</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bash</span><span class=w></span>
<a id=__codelineno-10-4 name=__codelineno-10-4></a><span class=nt>workDir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/home/nocalhost-dev</span><span class=w></span>
<a id=__codelineno-10-5 name=__codelineno-10-5></a><span class=nt>sync</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-10-6 name=__codelineno-10-6></a><span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">send</span><span class=w></span>
<a id=__codelineno-10-7 name=__codelineno-10-7></a><span class=w>  </span><span class=nt>filePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-10-8 name=__codelineno-10-8></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./</span><span class=w></span>
<a id=__codelineno-10-9 name=__codelineno-10-9></a><span class=w>  </span><span class=nt>ignoreFilePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-10-10 name=__codelineno-10-10></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.git&quot;</span><span class=w></span>
<a id=__codelineno-10-11 name=__codelineno-10-11></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.github&quot;</span><span class=w></span>
<a id=__codelineno-10-12 name=__codelineno-10-12></a><span class=nt>env</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-10-13 name=__codelineno-10-13></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DEBUG</span><span class=w></span>
<a id=__codelineno-10-14 name=__codelineno-10-14></a><span class=w>    </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;true&quot;</span><span class=w></span>
</code></pre></div></td></tr></table></div> <p>The structure of the directories is:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-11-1>1</a></span>
<span class=normal><a href=#__codelineno-11-2>2</a></span>
<span class=normal><a href=#__codelineno-11-3>3</a></span>
<span class=normal><a href=#__codelineno-11-4>4</a></span>
<span class=normal><a href=#__codelineno-11-5>5</a></span>
<span class=normal><a href=#__codelineno-11-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1></a><span class=err>├──</span><span class=w> </span><span class=nt>service</span><span class=w></span>
<a id=__codelineno-11-2 name=__codelineno-11-2></a><span class=err>│</span><span class=w>   </span><span class=err>├──</span><span class=w> </span><span class=nt>details.yaml</span><span class=w></span>
<a id=__codelineno-11-3 name=__codelineno-11-3></a><span class=err>│</span><span class=w>   </span><span class=err>└──</span><span class=w> </span><span class=nt>productpage.yaml</span><span class=w></span>
<a id=__codelineno-11-4 name=__codelineno-11-4></a><span class=err>├──</span><span class=w> </span><span class=nt>base</span><span class=w></span>
<a id=__codelineno-11-5 name=__codelineno-11-5></a><span class=err>│</span><span class=w>   </span><span class=err>└──</span><span class=w> </span><span class=nt>dev-config.yaml</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-11-6 name=__codelineno-11-6></a><span class=err>├──</span><span class=w> </span><span class=nt>config.yaml</span><span class=w></span>
</code></pre></div></td></tr></table></div> <p>Using <code>nhctl render ./config.yaml</code> to get the result:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-12-1> 1</a></span>
<span class=normal><a href=#__codelineno-12-2> 2</a></span>
<span class=normal><a href=#__codelineno-12-3> 3</a></span>
<span class=normal><a href=#__codelineno-12-4> 4</a></span>
<span class=normal><a href=#__codelineno-12-5> 5</a></span>
<span class=normal><a href=#__codelineno-12-6> 6</a></span>
<span class=normal><a href=#__codelineno-12-7> 7</a></span>
<span class=normal><a href=#__codelineno-12-8> 8</a></span>
<span class=normal><a href=#__codelineno-12-9> 9</a></span>
<span class=normal><a href=#__codelineno-12-10>10</a></span>
<span class=normal><a href=#__codelineno-12-11>11</a></span>
<span class=normal><a href=#__codelineno-12-12>12</a></span>
<span class=normal><a href=#__codelineno-12-13>13</a></span>
<span class=normal><a href=#__codelineno-12-14>14</a></span>
<span class=normal><a href=#__codelineno-12-15>15</a></span>
<span class=normal><a href=#__codelineno-12-16>16</a></span>
<span class=normal><a href=#__codelineno-12-17>17</a></span>
<span class=normal><a href=#__codelineno-12-18>18</a></span>
<span class=normal><a href=#__codelineno-12-19>19</a></span>
<span class=normal><a href=#__codelineno-12-20>20</a></span>
<span class=normal><a href=#__codelineno-12-21>21</a></span>
<span class=normal><a href=#__codelineno-12-22>22</a></span>
<span class=normal><a href=#__codelineno-12-23>23</a></span>
<span class=normal><a href=#__codelineno-12-24>24</a></span>
<span class=normal><a href=#__codelineno-12-25>25</a></span>
<span class=normal><a href=#__codelineno-12-26>26</a></span>
<span class=normal><a href=#__codelineno-12-27>27</a></span>
<span class=normal><a href=#__codelineno-12-28>28</a></span>
<span class=normal><a href=#__codelineno-12-29>29</a></span>
<span class=normal><a href=#__codelineno-12-30>30</a></span>
<span class=normal><a href=#__codelineno-12-31>31</a></span>
<span class=normal><a href=#__codelineno-12-32>32</a></span>
<span class=normal><a href=#__codelineno-12-33>33</a></span>
<span class=normal><a href=#__codelineno-12-34>34</a></span>
<span class=normal><a href=#__codelineno-12-35>35</a></span>
<span class=normal><a href=#__codelineno-12-36>36</a></span>
<span class=normal><a href=#__codelineno-12-37>37</a></span>
<span class=normal><a href=#__codelineno-12-38>38</a></span>
<span class=normal><a href=#__codelineno-12-39>39</a></span>
<span class=normal><a href=#__codelineno-12-40>40</a></span>
<span class=normal><a href=#__codelineno-12-41>41</a></span>
<span class=normal><a href=#__codelineno-12-42>42</a></span>
<span class=normal><a href=#__codelineno-12-43>43</a></span>
<span class=normal><a href=#__codelineno-12-44>44</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1></a><span class=nt>application</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-2 name=__codelineno-12-2></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bookinfo</span><span class=w></span>
<a id=__codelineno-12-3 name=__codelineno-12-3></a><span class=w>  </span><span class=nt>manifestType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rawManifestGit</span><span class=w></span>
<a id=__codelineno-12-4 name=__codelineno-12-4></a><span class=w>  </span><span class=nt>resourcePath</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;manifest/templates&quot;</span><span class="p p-Indicator">]</span><span class=w></span>
<a id=__codelineno-12-5 name=__codelineno-12-5></a>
<a id=__codelineno-12-6 name=__codelineno-12-6></a><span class=w>  </span><span class=nt>service</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-7 name=__codelineno-12-7></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">productpage</span><span class=w></span>
<a id=__codelineno-12-8 name=__codelineno-12-8></a><span class=w>      </span><span class=nt>serviceType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deployment</span><span class=w></span>
<a id=__codelineno-12-9 name=__codelineno-12-9></a><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-10 name=__codelineno-12-10></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">productpage</span><span class=w></span>
<a id=__codelineno-12-11 name=__codelineno-12-11></a><span class=w>          </span><span class=nt>dev</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-12 name=__codelineno-12-12></a><span class=w>            </span><span class=nt>gitUrl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://e.coding.net/codingcorp/nocalhost/bookinfo-details.git</span><span class=w></span>
<a id=__codelineno-12-13 name=__codelineno-12-13></a><span class=w>            </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">codingcorp-docker.pkg.coding.net/nocalhost/dev-images/ruby:2.7.1-slim</span><span class=w></span>
<a id=__codelineno-12-14 name=__codelineno-12-14></a><span class=w>            </span><span class=nt>shell</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bash</span><span class=w></span>
<a id=__codelineno-12-15 name=__codelineno-12-15></a><span class=w>            </span><span class=nt>workDir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/home/nocalhost-dev</span><span class=w></span>
<a id=__codelineno-12-16 name=__codelineno-12-16></a><span class=w>            </span><span class=nt>sync</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-17 name=__codelineno-12-17></a><span class=w>              </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">send</span><span class=w></span>
<a id=__codelineno-12-18 name=__codelineno-12-18></a><span class=w>              </span><span class=nt>filePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-19 name=__codelineno-12-19></a><span class=w>                </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./</span><span class=w></span>
<a id=__codelineno-12-20 name=__codelineno-12-20></a><span class=w>              </span><span class=nt>ignoreFilePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-21 name=__codelineno-12-21></a><span class=w>                </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.git&quot;</span><span class=w></span>
<a id=__codelineno-12-22 name=__codelineno-12-22></a><span class=w>                </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.github&quot;</span><span class=w></span>
<a id=__codelineno-12-23 name=__codelineno-12-23></a><span class=w>            </span><span class=nt>env</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-24 name=__codelineno-12-24></a><span class=w>              </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DEBUG</span><span class=w></span>
<a id=__codelineno-12-25 name=__codelineno-12-25></a><span class=w>                </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;true&quot;</span><span class=w></span>
<a id=__codelineno-12-26 name=__codelineno-12-26></a>
<a id=__codelineno-12-27 name=__codelineno-12-27></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">details</span><span class=w></span>
<a id=__codelineno-12-28 name=__codelineno-12-28></a><span class=w>      </span><span class=nt>serviceType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deployment</span><span class=w></span>
<a id=__codelineno-12-29 name=__codelineno-12-29></a><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-30 name=__codelineno-12-30></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>dev</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-31 name=__codelineno-12-31></a><span class=w>            </span><span class=nt>gitUrl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://e.coding.net/codingcorp/nocalhost/bookinfo-details.git</span><span class=w></span>
<a id=__codelineno-12-32 name=__codelineno-12-32></a><span class=w>            </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">codingcorp-docker.pkg.coding.net/nocalhost/dev-images/ruby:2.7.1-slim</span><span class=w></span>
<a id=__codelineno-12-33 name=__codelineno-12-33></a><span class=w>            </span><span class=nt>shell</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bash</span><span class=w></span>
<a id=__codelineno-12-34 name=__codelineno-12-34></a><span class=w>            </span><span class=nt>workDir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/home/nocalhost-dev</span><span class=w></span>
<a id=__codelineno-12-35 name=__codelineno-12-35></a><span class=w>            </span><span class=nt>sync</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-36 name=__codelineno-12-36></a><span class=w>              </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">send</span><span class=w></span>
<a id=__codelineno-12-37 name=__codelineno-12-37></a><span class=w>              </span><span class=nt>filePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-38 name=__codelineno-12-38></a><span class=w>                </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./</span><span class=w></span>
<a id=__codelineno-12-39 name=__codelineno-12-39></a><span class=w>              </span><span class=nt>ignoreFilePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-40 name=__codelineno-12-40></a><span class=w>                </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.git&quot;</span><span class=w></span>
<a id=__codelineno-12-41 name=__codelineno-12-41></a><span class=w>                </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.github&quot;</span><span class=w></span>
<a id=__codelineno-12-42 name=__codelineno-12-42></a><span class=w>            </span><span class=nt>env</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-43 name=__codelineno-12-43></a><span class=w>              </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DEBUG</span><span class=w></span>
<a id=__codelineno-12-44 name=__codelineno-12-44></a><span class=w>                </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;true&quot;</span><span class=w></span>
</code></pre></div></td></tr></table></div> <h3 id=example-3-reloading-the-configuration>Example 3: "Reloading" the configuration<a class=headerlink href=#example-3-reloading-the-configuration title="Permanent link">&para;</a></h3> <p>The configurations may not be exactly identical. For example, the development image and startup command used by each service are different. How to customize them when use abstracted configuration?</p> <p>Taking <code>Example 2</code> as an example, productpage uses the basic dev-config.yaml for the dev part. But at the same time, the definition of <code>gitUrl</code> and <code>image</code> overrides the already defined content in dev-config.yaml. In addition, <code>resources</code> is also defined to expand the dev-config.yaml.</p> <p>/service/productpage.yaml:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-13-1> 1</a></span>
<span class=normal><a href=#__codelineno-13-2> 2</a></span>
<span class=normal><a href=#__codelineno-13-3> 3</a></span>
<span class=normal><a href=#__codelineno-13-4> 4</a></span>
<span class=normal><a href=#__codelineno-13-5> 5</a></span>
<span class=normal><a href=#__codelineno-13-6> 6</a></span>
<span class=normal><a href=#__codelineno-13-7> 7</a></span>
<span class=normal><a href=#__codelineno-13-8> 8</a></span>
<span class=normal><a href=#__codelineno-13-9> 9</a></span>
<span class=normal><a href=#__codelineno-13-10>10</a></span>
<span class=normal><a href=#__codelineno-13-11>11</a></span>
<span class=normal><a href=#__codelineno-13-12>12</a></span>
<span class=normal><a href=#__codelineno-13-13>13</a></span>
<span class=normal><a href=#__codelineno-13-14>14</a></span>
<span class=normal><a href=#__codelineno-13-15>15</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">productpage</span><span class=w></span>
<a id=__codelineno-13-2 name=__codelineno-13-2></a><span class=w>  </span><span class=nt>serviceType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deployment</span><span class=w></span>
<a id=__codelineno-13-3 name=__codelineno-13-3></a><span class=w>  </span><span class=nt>containers</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-13-4 name=__codelineno-13-4></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">productpage</span><span class=w></span>
<a id=__codelineno-13-5 name=__codelineno-13-5></a><span class=w>      </span><span class=nt>dev</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-13-6 name=__codelineno-13-6></a><span class=w>        </span><span class="l l-Scalar l-Scalar-Plain">${_INCLUDE_:- ../base/dev-config.yaml | nindent 8}</span><span class=w></span>
<a id=__codelineno-13-7 name=__codelineno-13-7></a><span class=w>        </span><span class="l l-Scalar l-Scalar-Plain">gitUrl</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://e.coding.net/nocalhost/nocalhost/bookinfo-productpage.git</span><span class=w></span>
<a id=__codelineno-13-8 name=__codelineno-13-8></a><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">codingcorp-docker.pkg.coding.net/nocalhost/dev-images/python:3.7.7-slim-productpage-with-pydevd</span><span class=w></span>
<a id=__codelineno-13-9 name=__codelineno-13-9></a><span class=w>        </span><span class=nt>resources</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-13-10 name=__codelineno-13-10></a><span class=w>          </span><span class=nt>limits</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-13-11 name=__codelineno-13-11></a><span class=w>            </span><span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class=s>&quot;1&quot;</span><span class=w></span>
<a id=__codelineno-13-12 name=__codelineno-13-12></a><span class=w>            </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1Gi</span><span class=w></span>
<a id=__codelineno-13-13 name=__codelineno-13-13></a><span class=w>          </span><span class=nt>requests</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-13-14 name=__codelineno-13-14></a><span class=w>            </span><span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class=s>&quot;0.5&quot;</span><span class=w></span>
<a id=__codelineno-13-15 name=__codelineno-13-15></a><span class=w>            </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">512Mi</span><span class=w></span>
</code></pre></div></td></tr></table></div> <p>/base/dev-config.yaml:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-14-1> 1</a></span>
<span class=normal><a href=#__codelineno-14-2> 2</a></span>
<span class=normal><a href=#__codelineno-14-3> 3</a></span>
<span class=normal><a href=#__codelineno-14-4> 4</a></span>
<span class=normal><a href=#__codelineno-14-5> 5</a></span>
<span class=normal><a href=#__codelineno-14-6> 6</a></span>
<span class=normal><a href=#__codelineno-14-7> 7</a></span>
<span class=normal><a href=#__codelineno-14-8> 8</a></span>
<span class=normal><a href=#__codelineno-14-9> 9</a></span>
<span class=normal><a href=#__codelineno-14-10>10</a></span>
<span class=normal><a href=#__codelineno-14-11>11</a></span>
<span class=normal><a href=#__codelineno-14-12>12</a></span>
<span class=normal><a href=#__codelineno-14-13>13</a></span>
<span class=normal><a href=#__codelineno-14-14>14</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1></a><span class=nt>gitUrl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://e.coding.net/codingcorp/nocalhost/bookinfo-details.git</span><span class=w></span>
<a id=__codelineno-14-2 name=__codelineno-14-2></a><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">codingcorp-docker.pkg.coding.net/nocalhost/dev-images/ruby:2.7.1-slim</span><span class=w></span>
<a id=__codelineno-14-3 name=__codelineno-14-3></a><span class=nt>shell</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bash</span><span class=w></span>
<a id=__codelineno-14-4 name=__codelineno-14-4></a><span class=nt>workDir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/home/nocalhost-dev</span><span class=w></span>
<a id=__codelineno-14-5 name=__codelineno-14-5></a><span class=nt>sync</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-14-6 name=__codelineno-14-6></a><span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">send</span><span class=w></span>
<a id=__codelineno-14-7 name=__codelineno-14-7></a><span class=w>  </span><span class=nt>filePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-14-8 name=__codelineno-14-8></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./</span><span class=w></span>
<a id=__codelineno-14-9 name=__codelineno-14-9></a><span class=w>  </span><span class=nt>ignoreFilePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-14-10 name=__codelineno-14-10></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.git&quot;</span><span class=w></span>
<a id=__codelineno-14-11 name=__codelineno-14-11></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.github&quot;</span><span class=w></span>
<a id=__codelineno-14-12 name=__codelineno-14-12></a><span class=nt>env</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-14-13 name=__codelineno-14-13></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DEBUG</span><span class=w></span>
<a id=__codelineno-14-14 name=__codelineno-14-14></a><span class=w>    </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;true&quot;</span><span class=w></span>
</code></pre></div></td></tr></table></div> <p>The structure of the directories is:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-15-1>1</a></span>
<span class=normal><a href=#__codelineno-15-2>2</a></span>
<span class=normal><a href=#__codelineno-15-3>3</a></span>
<span class=normal><a href=#__codelineno-15-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1></a><span class=err>├──</span><span class=w> </span><span class=nt>service</span><span class=w></span>
<a id=__codelineno-15-2 name=__codelineno-15-2></a><span class=err>│</span><span class=w>   </span><span class=err>└──</span><span class=w> </span><span class=nt>productpage.yaml</span><span class=w></span>
<a id=__codelineno-15-3 name=__codelineno-15-3></a><span class=err>├──</span><span class=w> </span><span class=nt>base</span><span class=w></span>
<a id=__codelineno-15-4 name=__codelineno-15-4></a><span class=err>│</span><span class=w>   </span><span class=err>└──</span><span class=w> </span><span class=nt>dev-config.yaml</span><span class=p>:</span><span class=w></span>
</code></pre></div></td></tr></table></div> <p>Using <code>nhctl render ./service/productpage.yaml</code> to get the result:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-16-1> 1</a></span>
<span class=normal><a href=#__codelineno-16-2> 2</a></span>
<span class=normal><a href=#__codelineno-16-3> 3</a></span>
<span class=normal><a href=#__codelineno-16-4> 4</a></span>
<span class=normal><a href=#__codelineno-16-5> 5</a></span>
<span class=normal><a href=#__codelineno-16-6> 6</a></span>
<span class=normal><a href=#__codelineno-16-7> 7</a></span>
<span class=normal><a href=#__codelineno-16-8> 8</a></span>
<span class=normal><a href=#__codelineno-16-9> 9</a></span>
<span class=normal><a href=#__codelineno-16-10>10</a></span>
<span class=normal><a href=#__codelineno-16-11>11</a></span>
<span class=normal><a href=#__codelineno-16-12>12</a></span>
<span class=normal><a href=#__codelineno-16-13>13</a></span>
<span class=normal><a href=#__codelineno-16-14>14</a></span>
<span class=normal><a href=#__codelineno-16-15>15</a></span>
<span class=normal><a href=#__codelineno-16-16>16</a></span>
<span class=normal><a href=#__codelineno-16-17>17</a></span>
<span class=normal><a href=#__codelineno-16-18>18</a></span>
<span class=normal><a href=#__codelineno-16-19>19</a></span>
<span class=normal><a href=#__codelineno-16-20>20</a></span>
<span class=normal><a href=#__codelineno-16-21>21</a></span>
<span class=normal><a href=#__codelineno-16-22>22</a></span>
<span class=normal><a href=#__codelineno-16-23>23</a></span>
<span class=normal><a href=#__codelineno-16-24>24</a></span>
<span class=normal><a href=#__codelineno-16-25>25</a></span>
<span class=normal><a href=#__codelineno-16-26>26</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">productpage</span><span class=w></span>
<a id=__codelineno-16-2 name=__codelineno-16-2></a><span class=w>  </span><span class=nt>serviceType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deployment</span><span class=w></span>
<a id=__codelineno-16-3 name=__codelineno-16-3></a><span class=w>  </span><span class=nt>containers</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-16-4 name=__codelineno-16-4></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">productpage</span><span class=w></span>
<a id=__codelineno-16-5 name=__codelineno-16-5></a><span class=w>      </span><span class=nt>dev</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-16-6 name=__codelineno-16-6></a><span class=w>        </span><span class=nt>shell</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bash</span><span class=w></span>
<a id=__codelineno-16-7 name=__codelineno-16-7></a><span class=w>        </span><span class=nt>workDir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/home/nocalhost-dev</span><span class=w></span>
<a id=__codelineno-16-8 name=__codelineno-16-8></a><span class=w>        </span><span class=nt>sync</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-16-9 name=__codelineno-16-9></a><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">send</span><span class=w></span>
<a id=__codelineno-16-10 name=__codelineno-16-10></a><span class=w>          </span><span class=nt>filePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-16-11 name=__codelineno-16-11></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./</span><span class=w></span>
<a id=__codelineno-16-12 name=__codelineno-16-12></a><span class=w>          </span><span class=nt>ignoreFilePattern</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-16-13 name=__codelineno-16-13></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.git&quot;</span><span class=w></span>
<a id=__codelineno-16-14 name=__codelineno-16-14></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;.github&quot;</span><span class=w></span>
<a id=__codelineno-16-15 name=__codelineno-16-15></a><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-16-16 name=__codelineno-16-16></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DEBUG</span><span class=w></span>
<a id=__codelineno-16-17 name=__codelineno-16-17></a><span class=w>            </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;true&quot;</span><span class=w></span>
<a id=__codelineno-16-18 name=__codelineno-16-18></a><span class=w>        </span><span class=nt>gitUrl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://e.coding.net/nocalhost/nocalhost/bookinfo-productpage.git</span><span class=w></span>
<a id=__codelineno-16-19 name=__codelineno-16-19></a><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">codingcorp-docker.pkg.coding.net/nocalhost/dev-images/python:3.7.7-slim-productpage-with-pydevd</span><span class=w></span>
<a id=__codelineno-16-20 name=__codelineno-16-20></a><span class=w>        </span><span class=nt>resources</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-16-21 name=__codelineno-16-21></a><span class=w>          </span><span class=nt>limits</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-16-22 name=__codelineno-16-22></a><span class=w>            </span><span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class=s>&quot;1&quot;</span><span class=w></span>
<a id=__codelineno-16-23 name=__codelineno-16-23></a><span class=w>            </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1Gi</span><span class=w></span>
<a id=__codelineno-16-24 name=__codelineno-16-24></a><span class=w>          </span><span class=nt>requests</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-16-25 name=__codelineno-16-25></a><span class=w>            </span><span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class=s>&quot;0.5&quot;</span><span class=w></span>
<a id=__codelineno-16-26 name=__codelineno-16-26></a><span class=w>            </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">512Mi</span><span class=w></span>
</code></pre></div></td></tr></table></div> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> 回到页面顶部 </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=页脚> <a href=../advance/ class="md-footer__link md-footer__link--prev" aria-label="上一页: 高级配置" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> 上一页 </span> 高级配置 </div> </div> </a> <a href=../../../practice/cloud/k8s-compatible/ class="md-footer__link md-footer__link--next" aria-label="下一页: K8兼容" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> 下一页 </span> K8兼容 </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2021-2022 Nocalhost </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://nocalhost.dev target=_blank rel=noopener title=nocalhost.dev class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64h185.4c2.2 20.4 3.3 41.8 3.3 64zm28.8-64h123.1c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 21 58.2 27 94.7zm-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6zM8.1 192h123.1c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zm186.6 254.6c-11.6-26-20.9-58.2-27-94.6h176.6c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.6-22.2 40.7-33.5 51.5-11.2 10.7-20.5 13.9-27.8 13.9s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6h116.7zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6h116.6z"/></svg> </a> <a href=https://github.com/nocalhost/nocalhost target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://nocalhost.slack.com target=_blank rel=noopener title=nocalhost.slack.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg> </a> <a href=https://www.linkedin.com/in/nocalhost target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://twitter.com/nocalhost target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["content.code.annotate", "content.tooltips", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../../../assets/javascripts/bundle.5a2dcb6a.min.js></script> </body> </html>